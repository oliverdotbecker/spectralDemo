%% Erläuterungen zu den Befehlen erfolgen unter
%% diesem Beispiel.

\documentclass[11pt]{scrartcl}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{wrapfig}
\usepackage{float}
\usepackage[printonlyused, footnote]{acronym}
\usepackage[
    colorlinks=true,
    urlcolor=blue,
    linkcolor=black,
    citecolor=black
]{hyperref}
\usepackage[font={scriptsize},figurename=Bild]{caption}

\title{MASTER THESIS}
\author{Oliver Becker}
\date{31. Oktober 2019} %%\today
\begin{document}

\begin{center}
    \center\includegraphics[width=0.4\linewidth]{images/logo.png}
    \paragraph{}
    \huge MASTER THESIS
\end{center}
\vspace{3cm}\noindent
{\large Title:  Abgleich von LED Lichtquellen auf Basis einer komplexen Lichtsteuerung}
\par\vspace{3cm}\noindent
Submitted by:               Oliver Becker\\
\\
Matriculation number:       725810\\
\par\vspace{2cm}\noindent
1st Academic Supervisor:    Prof. Dr. Herbert Krauß\\
\\
2nd Academic Supervisor:    Prof. Dr. Shun-Ping Chen\\
\\
Industrial Supervisor:      Dipl.-Ing. Hartmut Cordes\\
\par\vspace{2cm}\noindent
Completion Date:            31.10.2019
\clearpage

\tableofcontents
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Vorwort %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Vorwort}
\addcontentsline{toc}{section}{Vorwort}
Weltweit finden große Veranstaltungen statt. Bei allen Inszenierungen spielt das Licht eine 
große Rolle. Egal, ob einfach nur hell oder szenisch ausgeleuchtet, bedarf es einer Steuerung 
für diese Lichttechnik. Bühnen und Ansprüche der Veranstalter werden immer größer und komplexer. 
So geht es über das einfache An- und Ausschalten eines Scheinwerfers schon sehr weit hinaus. 
Heutzutage werden Lichtanlagen mit leistungsfähigen Computersystemen gesteuert, welche von 
geschultem Personal bedient werden müssen.\\
In der Filmindustrie spielt Licht eine große Rolle. Die Ausleuchtung eines Film-Sets entscheidet 
auch wie die Handlung vom Betrachter wahrgenommen wird. Dies gilt sowohl für statische Szenen, 
als auch für die zumeist hoch aufwändigen dynamischen Installationen.
Eine der zurzeit größten Herausforderungen stellt die korrekte Farbwiedergabe der mannigfaltigen 
Lichtquellen an einem Film-Set dar.
Dies wird vor allem durch die unterschiedenen chromatischen Eigenschaften von den Licht 
emittierenden Quellen erschwert. Diese Quellen sind heute zu überwiegenden Teilen LEDs.\\
Als Beispiel wird hier ein Film-Set für eine Motorrad Verfolgungsszene genommen. Hier wird im 
Hintergrund mit großen LED Kacheln der computergenerierte Hintergrund abgespielt. Mit kleinen 
LED Streifen links und rechts neben dem im Studio aufgebauten Motorrad wird dynamisch Licht auf 
den Schauspieler emittiert, um eine größere Dynamik zu simulieren.
Zusätzlich wird mit kleinen Bildschirmen weiterer computergenerierter Hintergrund von vorne auf 
das Motorrad und den Schauspieler projiziert, um realistische Spiegelungen in der 
Windschutzscheibe und der Brille des Schauspielers zu erhalten.\\
Alle diese aufgezählten Emitter haben zumeist alle unterschiedlichste chromatische Kennwerte 
sofern diese überhaupt bekannt sind. Ein Abgleich dieser Quellen ist wünschenswert für ein 
homogeneres Farbbild.

%%%%%%%%%%%%%%%%%%%%%%%%%% Erklärung %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Erklärung}
\addcontentsline{toc}{section}{Erklärung}
Ich versichere hiermit, dass ich die vorliegende Arbeit selbständig verfasst und keine anderen
als die im Literaturverzeichnis angegebenen Quellen benutzt habe.\\
Alle Stellen, die wörtlich oder sinngemäß aus veröffentlichten oder noch nicht veröffentlichten
Quellen entnommen sind, sind als solche kenntlich gemacht.\\
Die Zeichnungen oder Abbildungen in dieser Arbeit sind von mir selbst erstellt worden oder mit
einem entsprechenden Quellennachweis versehen.\\
Diese Arbeit ist in gleicher oder ähnlicher Form noch bei keiner anderen Prüfungsbehörde
eingereicht worden.\\
\par\vspace{2cm}\noindent
Darmstadt, den 30.10.2019 \hspace*{0pt}\hfill Oliver Becker
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Abstrakt %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Abstrakt}
\addcontentsline{toc}{section}{Abstrakt}

\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% MA Lighting Technology %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{MA Lighting Technology}
MA Lighting Technology GmbH (im Folgenden MA) wurde 1983 von Michael Adenau zusammen mit
den drei Mitgesellschaftern Ernst Ebrecht, Thomas Stanger und Werner Hauptvogel gegründet. MA
entwickelt und produziert Lichtsteuerungen für die Bereiche Fernsehen, Veranstaltungen, Theater
und szenische Gebäudebeleuchtung. Schon Anfang der 1990er Jahre erkannten die Firmengründer
das Potenzial der elektrischen und digitalen Steuerung von Scheinwerfern und bauten die ersten
Lichtstellpulte, sowie die zugehörigen Komponenten. Im Laufe der Jahre entwickelte sich MA zu
einem der international führenden Unternehmen für computergesteuerte Lichtstellpulte,
Netzwerkkomponenten und digitale Dimmer Systeme.\\
In der Referenzliste von MA findet man viele große internationale Theater und Opernhäuser, Bands
von AC/DC über Sting bis U2, die Eröffnungsfeier der Olympischen Spiele, der Eurovision Song
Contest 2019 oder die Lichtinstallation zum 25. Jahrestag des Falls der Berliner Mauer 2014.\\
\begin{wrapfigure}{r}{0.5\textwidth}
    \vspace{-25pt}
    \begin{center}
        \includegraphics[width=0.48\textwidth]{images/csm_MA_building_WBB.jpg}
    \end{center}
    \vspace{-20pt}
    \caption{Firmensitz Waldbüttelbrunn}
    \vspace{-15pt}
\end{wrapfigure}
Der Hauptsitz von MA Lighting Technology GmbH befindet sich in Waldbüttelbrunn in der Nähe von
Würzburg. Dort beschäftigt MA circa 100 Mitarbeiter. In den fünf Gebäuden sitzen Soft- und
Hardwareentwicklung, Testabteilung, Produktion, Lager und Management. Alle Produkte werden
größtenteils von Hand von den Mitarbeitern vor Ort zusammengebaut. Platinen und Gehäuse werden
von externen Firmen geliefert. Die einzelnen Bauteile werden von den Mitarbeitern auf den
Platinen aufgesteckt und verlötet. Anschließend werden die bestückten Platinen in den Gehäusen
montiert und verkabelt. Nach einem mehrtägigen BurnIn-Test und einer Werkskonfiguration werden
die Geräte verpackt und sind versandfertig.\\
\\
Kundensupport und Vertrieb werden in Deutschland von der externen Firma MA Lighting International
durchgeführt. Diese hat ihren Sitz in Paderborn. Die Konsultation der Mitarbeiter in
Waldbüttelbrunn erfolgt lediglich bei größeren technischen Fragen und Problemen.\\
Eines der ersten Produkte von MA war der Lightcommander24, eine analoge Lichtsteuerkonsole auf
Basis des \ac{dmx} Protokolls von 1990. Nach kurzer Zeit folgten Dimmer für
Scheinwerfer und \ac{dmx}-Demultiplexer, um analoge Geräte ansteuern zu können.\\

\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.45\textwidth}
        \includegraphics[width=\textwidth]{images/grandMA_1.png}
        \caption{grandMA 1 Full Size}
    \end{subfigure}
    \hfill 
    \begin{subfigure}[b]{0.25\textwidth}
        \includegraphics[width=\textwidth]{images/MA_2Port_Node_onPC_13019x.png}
        \caption{2port Node}
    \end{subfigure}
    \caption{grandMA 1 Serie Produkte}\label{fig:gma1}
\end{figure}
\noindent
Ebenso entwickelte MA die Steuerpulte Scan-Commander und die grandMA Series 1 sowohl als
Konsole, als auch als Computerapplikation. Das Besondere an dieser Technologie ist, dass \ac{dmx}-Daten
nicht nur über \ac{xlr}, sondern auch über ein eigenes Ethernet-Netzwerkprotokoll namens 'MA-Net'
ausgegeben werden. Als Gegenstück am anderen Ende des Netzwerkkabels existieren sogenannte
\ac{dmx}-Nodes. Diese fungieren als Protokollwandler zwischen MA-Net und \ac{dmx}.\\
Die Firma setzte immer wieder Standards in der Branche. Im Zuge des technischen Fortschritts –
Einsatz von \ac{led}s als Lichtquelle, moderne Netzwerktechnologie und Videodatenverarbeitung –
wurde die Produktpalette wesentlich erweitert. Hinzu kam die grandMA2 Series.\\
\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.45\textwidth}
        \includegraphics[width=\textwidth]{images/MA_grandMA2_full-size.png}
        \caption{grandMA 2 Full Size}
    \end{subfigure}
    \hfill 
    \begin{subfigure}[b]{0.4\textwidth}
        \includegraphics[width=\textwidth]{images/MA-VPU-plus_d.png}
        \caption{VPU}
    \end{subfigure}
    \caption{grandMA 2 Serie Produkte}\label{fig:gma2}
\end{figure}
\noindent
Die grandMA2 Series ist die moderne Fortführung der grandMA Series 1. Außerdem stellt sie
folgende Produkte bereit: Die Network Processing Unit (NPU), eine Prozessoreinheit, welche die
Konsole in ihren Berechnungen unterstützt, indem die Konsole Rechenaufträge auf die NPU dezentral
auslagert. Die Video Processing Unit (VPU) verarbeitet Video-Content und gibt diesen nativ über
Grafikkarten oder Pixelmapping mit Hilfe von \ac{dmx} aus. Die Replay-Unit (RPU) ist eine vollwertige
Konsole ohne die typischen Steuerelemente, sie dient beispielsweise als Havariegerät. Zuletzt noch
verschiedene Variationen der Nodes, welche weiterhin als Protokollwandler dienen.\\
Alle diese Produkte adressieren vor allem den Highend-Profibereich für Theaterproduktionen,
Liveshows und Festinstallationen.\\
\begin{figure}[H]
    \includegraphics[width=\textwidth]{images/grandMA3-full-size.png}
    \caption{grandMA3 Full Size}\label{fig:gma3}
\end{figure}
\noindent
Seit Mitte 2017 entwickelt MA eine neue Produkt Serie. Die grandMA3 Serie. Diese Serie greift die
in den letzten 34 Jahren gesammelte Erfahrung auf, jedoch wurde jede Zeile Code neu geschrieben,
um die technischen Möglichkeiten der neuen Hardware vollumfänglich nutzen zu können.\\
Neben vielen Veränderungen gegenüber der Vorserien arbeitet die Farblogik der grandMA3 Software
mit den Spezifikationen des \ac{cie} 1931 Standards.
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Grundlagen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Grundlagen}

In dieser Arbeit werden Lichtquellen mit der grandMA3 Applikation von MA Lighting über ein Protokoll
mit der Bezeichnung \ac{dmx} angesteuert.\\
Für eine erste Überprüfung geeigneter Hardware wurde mit einer kleinen Demo Applikation gearbeitet. Diese wurde
in JavaScript und \ac{html} mit Hilfe des Electron Frameworks erstellt.\\
Weiter wird diese Applikation für die Ausgabe von \ac{dmx} genutzt.\\
Im folgenden werden die hier verwendeten Protokolle, Programme, und Frameworks dargelegt.

\subsection{DMX}
Diese Abkürzung steht für Digital Multiplex. Dahinter verbirgt sich ein digitales Steuerprotokoll,
welches vornehmlich in der Veranstaltungstechnik eingesetzt wird. Es wurde zuerst als DMX-
512/1990 standardisiert. Im November 2004 wurde dieser Standard aktualisiert, bekannt als
DMX512-A (ANSI E1.11-2008). \ac{dmx} basiert elektrisch auf dem seriellen RS-485 (EIA-485)
Schnittstellenstandard.\\
\begin{figure}[H]
    \includegraphics[width=\textwidth]{images/dmx.png}
    \caption{Physikalische Übertragung DMX-512/1990 (RS-485)}
\end{figure}
\noindent
Das eigentliche Signal wird dabei seriell auf einem Leitungspaar symmetrisch übertragen auf der
einen Leitung mit invertierten und auf der anderen mit nichtinvertiertem Pegel. Das Signal ist so
weniger störungsempfindlich, da sich externe Einstreuungen auf beide Datenleitungen gleichmäßig
auswirken und am Empfänger nicht das Pegelniveau, sondern die Pegeldifferenz ausgewertet wird.
Das ermöglicht laut Standard [2] bis zu 1200m lange Übertragungsstrecken und eine
Datenübertragungsrate bis zu 12 \ac{MBps}. Ein Netzwerk aus mehreren Geräten wird als Bus aufgebaut.\\
Die Datenübertragung erfolgt mittels einer \ac{uart} gesteuerten asynchronen seriellen Schnittstelle. Ein
Datenframe besteht aus acht Datenbits und zwei Stoppbits. Die Symbolrate beträgt 250 kBaud (Baud = Bits pro sec).
\begin{figure}[H]
    \includegraphics[width=\textwidth]{images/DMX_zeitlich.png}
    \caption{Zeitliche Darstellung \ac{dmx}-Signal}
\end{figure}
\noindent
\begin{table}[H]
    \small
    Legende zu Bild 6:\\
    \begin{tabular*}{\textwidth}{l @{\extracolsep{\fill}} llllll}
        Nr. & Signalabschnitt & Min & Soll & Max & Einheit\\
        1 & BREAK & 88 & 176 & - & $\mu$s\\
        2 & MARK after BREAK & 8 $\mu$s & - & < 1 s\\
        3 & Slot Time & 43,12 & 44,0 & 44,88 & $\mu$s\\
        4 & Startbit & 3,92 & 4,0 & 4,08 & $\mu$s\\
        5 & LSB (niederwertigstes Datenbit) & 3,92 & 4,0 & 4,08 & $\mu$s\\
        6 & MSB (höchstwertiges Datenbit) & 3,92 & 4,0 & 4,08 & $\mu$s\\
        7 & Stoppbit & 3,92 & 4,0 & 4,08 & $\mu$s\\
        8 & MARK Inter-Slot Time & 0 & - & < 1 & s\\
        9 & MARK before BREAK & 0 & - & < 1 & s\\
        10 & BREAK – BREAK (Übertragungsausfall) & 1,2 ms & - & 1,25 s & s\\
    \end{tabular*}
\end{table}
\noindent
Ein \ac{dmx}-Paket beginnt mit mindestens 88 $\mu$s (22 Bitlängen) niedrigem Pegel (logisch 0) – dieser
Abschnitt wird 'BREAK' genannt. Durch ihn wird eine einfache Erkennung des Paketanfangs
ermöglicht, da quasi jeder handelsübliche UART den Break als ungültiges Datenbyte mit fehlenden
Stoppbits meldet. Darauf folgt 'MARK after BREAK' mit mindestens 8 $\mu$s (2 Bitlängen) hohem Pegel /
Ruhezustand des Daten-Busses (logisch 1). In dieser 'MARK'-Zeit können sich langsamer getaktete
Controller auf ein neues \ac{dmx}-Paket einstellen. Dann wird das Startbyte mit dem Wert 0 für \ac{dmx}
übertragen. Das Startbyte ist der Slot 0. Anschließend werden die anderen 512 Slots mit den
relevanten \ac{dmx}-Daten gesendet. Es können, müssen aber nicht alle 513 Slots übertragen werden.
Eine Adressierung der Slots ist jedoch nicht möglich – der zweite gesendete Slot ist für den ersten
Kanal, der dritte Slot für den zweiten Kanal etc.. Sollte die Übertragung zu einem beliebigen
Zeitpunkt unterbrochen werden, kann sie durch das Senden eines neuen \ac{dmx}-Paketes wieder
aufgenommen werden. Die 'BREAK'-Sequenz führt automatisch zu einem Zurücksetzen aller noch
offenen Übertragungen.\\
\noindent
In der Spezifikation DMX512-A wurden erstmals Maximalzeiten für die Slot Time (3) und den
zeitlichen Abstand zwischen zwei BREAKs (10) definiert. Wenn die Zeit zwischen zwei BREAKs größer
als eine Sekunde ist, wertet ein Empfänger dies als Übertragungsausfall. Ein Übertragungsausfall ist
folgendermaßen definiert: 'Ein Übertragungsausfall kann dann angenommen werden, wenn der
angeschlossene Empfänger nicht innerhalb der angegebenen Zeit einen gültigen BREAK mit
darauffolgendem NULL-Startcode erkennen kann.' Weiter wurde eine empfohlene Länge des
BREAKs definiert. Dies soll den Empfängern die Dekodierung erleichtern.
\clearpage

\subsection{Art-Net}
Art-Net ist ein Netzwerkprotokoll, dass zur Verteilung von \ac{dmx} und \ac{rdm} Daten genutzt werden kann.
Es ist in OSI Layer 4 auf UDP aufgebaut. Das Protokoll ist von der Firma Artistic Licence Holdings Ltd. lizenziert.\\
Hier wird Art-Net in der dritten Version verwendet. Diese Version wurde 2011 publiziert.\\
Über das Art-Net 3 Protokoll können bis zu 32.768 \ac{dmx} Universen verwaltet werden.\\
\cite{artnet}\\
Das Protokoll kann sowohl Unicast, Multicast oder Broadcast eingesetzt werden. Somit können auch komplexe Netzwerke
in einer physikalischen Struktur aufgebaut werden.\\
\\
Mit Hilfe von Protokollwandlern wie dem MA xPort Node kann Art-Net in \ac{dmx} umgewandelt werden. Auch von anderen
Herstellern gibt es auf dem Markt weit verbreitete Protokollwandler.\\
\\
Art-Net IP Adressen sind nach folgendem Muster aufgebaut:
\begin{table}[H]
    \begin{tabular*}{\textwidth}{l @{\extracolsep{\fill}} lllll}
        Bytes & 4 & 3 & 2 & 1\\
        IP Adresse & Netz & Netz & Host & Host\\
        Subnetz & 255 & 255 & 0 & 0\\
    \end{tabular*}
\end{table}
\noindent
In der Regel werden IP Adressen für Art-Net mit dem Netz 2.X.X.X oder 10.X.X.X verwendet. Art-Net wird über den
Netzwerkport 6454 gesendet und empfangen.

Ein Art-Net Paket kann verschiedene Informationen enthalten. Hier sendet die Applikation jedoch
lediglich ArtDmx Pakete. Diese Pakete transportieren DMX Daten. Hier ist der Aufbau des ArtDmx Paketes dargelegt.\\
\begin{table}[H]
    \begin{tabular*}{\textwidth}{l @{\extracolsep{\fill}} lll}
        Byte Offset & Name & Größe & Beschreibung\\
        0 & ID & 8 & Art-Net\\
        8 & OpCodeLo & 1 & Pakettyp (ArtDmx) LSB\\
        9 & OpCodeHi & 1 & Pakettyp (ArtDmx) MSB\\
        10 & ProtVer & 2 & Protokollversion (14)\\
        12 & Sequenz & 1 & Paketsequenznummer\\
        13 & Physical & 1 & Physikalischer Port\\
        14 & Universe & 2 & Art-Net Universum\\
        16 & Length & 2 & Länge der DMX Daten\\
        18 & Data[] & 2-512 & DMX Daten\\
    \end{tabular*}
\end{table}
\cite{artdmx}
\clearpage

\subsection{HTML,JavaScript,CSS}
\ac{html} ist eine Strukturbeschreibungssprache. Sie ist an den \ac{xml} Standard angelehnt. \ac{html}
wird hauptsächlich in der Webentwicklung verwendet. Doch kann \ac{html} auch für webgestützte Desktop
Applikationen genutzt werden.\\
Die Sprache enthält grundlegende Elemente zur Beschreibung von Tabellen, Einbindung von Medieninhalten sowie
von weiteren HTML Dateien.\\
Allerdings ist das erzeugte Ergebnis (zum Beispiel von einem Webbrowser) meist statisch. Als Beispiel ändert sich
der Inhalt nicht mit dem Vergrößern oder Verkleinern des Webbrowsers für eine bessere Lesbarkeit. Um solche heute
gewohnten Effekte zu erzeugen, benötigt man \ac{css} oder JavaScript.\\
\\
\ac{css} ist eine in der \ac{json} Notation geschriebene Sprache. Hier kann auf Elemente in einem \ac{html} Baum
verwiesen werden, und mit verschiedenen Attributen das Erscheinungsbild im Webbrowser oder in der Applikation
geändert werden.\\
Einfache Dinge wie Hintergrund- oder Textfarben bis hin zu komplexen Animationen können mit \ac{css} beschrieben
werden.\\
\\
JavaScript ist eine Skript Sprache, die wie \ac{css} meist in der Webentwicklung verwendet wird, kann jedoch
mit einer entsprechenden JavaScript Laufzeitumgebung auch ohne Browser auf Endgeräten ausgeführt werden.\\
Bei dieser Arbeit muss zwischen zwei Arten der Nutzung der Sprache JavaScript unterschieden werden:\\
\begin{addmargin}[2em]{0em}
 - Webcode, welcher innerhalb des Webbrowsers augeführt wird.\\
 - Appcode, welcher mit der NodeJS Laufzeitumgebung auf dem Endgerät ausgeführt wird.\\
\end{addmargin}
NodeJS ist eine JavaScript Laufzeitumgebung. Laufzeitumgebungen sind zum Ausführen eines Programmes in einer
Sprache zwingend erforderlich.\\
Webcode kann dynamisch auf einer Website durch anklicken eines \ac{html} Elements weitere HTML Elemente erzeugen,
oder existierende manipulieren oder löschen. Somit kann eine Benutzereingabe das gesamte Erscheinungsbild ändern,
ohne eine andere \ac{html} Seite aufzurufen.
Zusätzlich bieten Webbrowser sogenannte "'Storages"' oder Speicher. Dort kann mit JavaScript Daten gespeichert werden,
um diese zum Beispiel beim nächsten Aufruf dieser Seite weiterzunutzen.\\
Appcode hat gegenüber Webcode weitreichendere Befugnisse auf dem Endgerät wie Dateisystemzugriff und Zugriff auf
externe Schnittstellen, wie USB oder herkömmliche serielle Schnittstellen (COM).
\clearpage

\subsection{Electron}
Electron ist ein Framework, welches zum Erstellen von Desktop Anwendungen genutzt werden kann. Electron funktioniert
wie ein Webbrowser. Die Applikation zeigt \ac{html} und andere Textinhalte an.\cite{electron} Der Programmierer kann diese
Browserumgebung nach Belieben modifizieren und erweitern. Electron wurde aus dem Projekt Atom Editor von Github entwickelt.\\
Das Framework basiert auf dem Chromium Projekt von Google. Auf dem Chromium Projekt basiert auch der Chrome Webbrowser von
Google.\\
Das Electron Framework bietet eine betriebssystemübergreifende Applikation als Resultat. Electron Applikationen können unter
Windows, Linux und MacOS ausgeführt werden.\\
Electron ist Open Source und wird von einer breiten Community weltweit permanent weiterentwickelt.\cite{electron}\\
Das Projekt wird in den Programmiersprachen C++ und JavaScript geschrieben.\\
Der JavaScript-Anteil wird mit NodeJS auf den Zielcomputern ausgeführt.

\subsection{Git und Github}
Git ist eine Datei Versionierungs- und Management Software. Git wird häufig in der Software Entwicklung mit mehreren Stationen eingesetzt.\\
Eine Instanz von einem mit Git verwalteten Dateisystem wird Repository bezeichnet. Diese Instanz wird meist auf einem Server bereitgestellt.
Ein Nutzer kann den Inhalt des Repositories auf sein Endgerät abrufen.
Abgerufene Dateien, vornehmlich nicht binäre Textdateien, können anschließend lokal auf einem Endgerät editiert werden. Wenn eine neue Version
der Datei in das Repository eingestellt werden soll, werden die Änderungen an den Dateien mit einem Kommentar eingestellt (committed).
Diese eingestellten Änderungen werden dann mit dem Server synchronisiert und mit den Änderungen von anderen Stationen automatisch zusammengeführt.\\
\\
Dieses System macht das Entwickeln einer Software mit mehreren Entwicklern deutlich einfacher.\\
\\
Github ist eine Webplattform, welche kostenlos öffentliche Repositories hosted. Dort wurde auch das Git Repository der Applikation
dieses Projektes gehostet.\\
Zusätzlich bietet Github ein Projektverwaltungssystem.
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Lichtquellen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Lichtquellen}
\subsection{Licht und Licht messen} \label{light and measurement}
Der Begriff Licht bezeichnet den Teil des elektromagnetischen Spektrums, welcher mit dem menschlichen Auge zu erfassen ist.\\
\\
Licht besteht aus rein physischer Betrachtungsweise aus Wellen im elektromagnetischen Spektrum und Teilchen. Dieses Phänomen, dass sich
Licht sowohl in der Ausbreitung wie eine Welle, als auch gleichzeitig ein wie Teilchen verhält, nennt sich Welle-Teilchen-Dualismus.
Dieser Begriff wurde durch Albert Einstein und Max Planck begründet. In dieser Theorie wird Licht als Quantenobjekt
beschrieben. \cite{wikiLicht}\\
\begin{wrapfigure}{r}{0.5\textwidth}
    \vspace{-25pt}
    \begin{center}
        \includegraphics[width=0.48\textwidth]{images/Elektromagnetisches-Spektrum.png}
    \end{center}
    \vspace{-20pt}
    \caption{Licht im elektromagnetischen Spektrum \cite{spectrumLight}}
    \vspace{-15pt}
\end{wrapfigure}
\noindent
Licht ist im elektromagnetischen Spektrum messbar. Somit ist ein Farbton eine Frequenz und eine Helligkeit eine Amplitude.
Wo eine Farbe im elektromagnetischen Spektrum einzuordnen ist, wird mit der Wellenlänge in Nanometern (nm) angegeben. Diese Zahl fällt von
dem Infrarotbereich des Spektrums ab 760nm bis in den Ultraviolettbereich bei 380nm.
\begin{align}\label{Equ:1}
    \lambda = \frac{c}{f}
\end{align}
Die zugehörigen Frequenzen liegen mit (\ref{Equ:1}) bei etwa 394,5 \ac{thz} für Infrarot und circa 789 \ac{thz} für Ultraviolett. Das
entspricht einer Bandbreite von 394,5 \ac{thz}, die das menschliche Auge erfassen kann.\\
\\
Dieser Teil des elektromagnetischen Spektrums lässt sich zum Beispiel mit Photodioden messen. Sensoren, welche eine solche Aufgabe erfüllen,
werden allgemein als Spektralsensoren bezeichnet.
\clearpage

\subsection{LED}
\subsubsection{Allgemein}
\ac{led} ist das Acronym für Light Emitting Diode, also lichtemittierende Diode. Dies ist eine spezielle Art von Halbleitern,
welche bei einem Stromfluss Licht emittieren. Die chemische Zusammensetzung (Dotierung) der Diode entscheidet, welche Farbe
beziehungsweise welche Frequenz sie emittiert.\\
Im folgenden ein Auszug der Element-Farbzuordnung \cite{wikiLed}:
\begin{table}[H]
    \small
    \begin{tabular*}{\textwidth}{l @{\extracolsep{\fill}} ll}
        Element & Farbe & Wellenlänge (nm)\\
        Aluminiumgalliumarsenid (AIGaAs) & Rot, Infrarot & 665 - 1000\\
        Galliumarsenidphosphid (GaAsP) & Rot, Orange und Gelb & 570 - 760\\
        Galliumphosphid (GaP) & (Gelb-)Grün & 500 - 580\\
        Indiumgalliumnitrid (InGaN) &  Grün, Blau, Violett und Ultraviolett & 520 - 230\\
    \end{tabular*}
\end{table}
\noindent
Zunächst wurden \ac{led}s in den frühen 1960er Jahren als Leuchtindikatoren benutzt. Also zum Beispiel auf
Platinen als Statusanzeige oder wie wir es heute von vielen Ethernetanschlussbuchsen kennen als blinkend als Anzeige, die den Datenempfang
signalisiert. Durch die voranschreitende technische Entwicklung der \ac{led}, wie bessere Effizienz und bessere Lichtausbeute, sowie besserer
Langlebigkeit des Bauteils, fand anfang der 1990er die \ac{led} auch ihre Anwendung im Heimbereich.\\
\ac{led}s emittieren Licht in einem begrenzten Spektralbereich. Das Licht ist nahezu monochromatisch. Deshalb sind sie beim Einsatz als
Signallicht besonders effizient im Vergleich zu anderen Lichtquellen, bei denen zur Erzielung einer monochromen Farbcharakteristik
Farbfilter den größten Teil des Spektrums absorbieren müssen.\\
\cite{showlicht}

\subsubsection{Mischen von Farben}\label{colormixing}
Emittierende Körper unterliegen der additiven Farbmischung. Das bedeutet, dass sich in das elektromagnetische Spektrum abgegebene
Wellen auf Ihren jeweiligen Wellenlängen aufaddieren. Somit kann mit verschiedenen LED Lichtquellen eine neue Farbe gemischt
werden.\\
So kann beispielsweise mit einer roten und einer grünen \ac{led} ein orangener bis gelber Farbton gemischt werden.

\subsubsection{Weiße LEDs}
Eine tatsächlich weiße \ac{led} existiert bisher auf dem Markt nicht, da \ac{led}s generell schmalbandig abstrahlen. Die Heutzutage
verwendeten "'weißen"' \ac{led}s sind eigentlich blaue \ac{led}s, mit einem zusätzlichen Phosphor Filter als breitbandigem Lumineszenzfarbstoff.
\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/LED_weiss_P_blau.png}
        \caption{Funktionelles Blockdiagramm}
    \end{subfigure}
    \hfill 
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/LED_weiss_phosphor.png}
        \caption{Spektrale Abdeckung}
    \end{subfigure}
    \caption{Weiss LED Aufbau und Spektrum \cite{wikiLed}}\label{fig:White LED}
\end{figure}
\noindent
Dies verschiebt das abgestrahlte Licht in den gelben Bereich. Somit mit einem Teil des blauen und des farbverschobenen Spektrums, entsteht
ein breitbandiges Abstrahlverhalten.
\clearpage

\subsection{Lichtquellen in der Veranstaltungstechnik}
Für die Veranstaltungstechnik ist künstliches Licht nahezu unverzichtbar. Von der Grundausleuchtung in einem Theater bis zu dem Effektlicht
auf Kleinveranstaltungen. In den frühen Jahren der großen Konzerte wurden hauptsächlich mit Scheinwerfern mit Glühfaden Leuchtmitteln beleuchtet.
Diese Form der Beleuchtung wurde in der Veranstaltungstechnik als Kunstlicht bezeichnet.\\
Weiter werden vornehmlich in Theatern, sowie Film- und Fernseherproduktion Tageslichtscheinwerfer benutzt. Tageslichtleuchtmittel
unterscheiden sich von der Art der Lichterzeugung gegenüber Glühlicht. Hier kommen anstatt eines Glühfadens zwei Elektroden in einer
gasgefüllten Röhre zum Einsatz. Mit dem dem Anlegen einer Spannung an den beiden Elektroden baut sich ein elektrisches Feld auf, welches zu
einer Gasentladung und somit zu einer Lichtemittierung führt. Solche Gasentladungslampen oder auch \ac{hmi} (Halogen-Metalldampflampe)
werden für diese Anwendungen in der Regel mit Xenon befüllt. Das emittierte Licht ist ähnlich dem Spektrum des Sonnenlichtes auf der
Erde. Daher der Name Tageslichtscheinwerfer.
\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/conventional_spectrum.png}
        \caption{Glühlichtlampe}
    \end{subfigure}
    \hfill 
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/HMI_Spectrum.png}
        \caption{Gasentladungslampe}
    \end{subfigure}
    \caption{Typische Spektren der verschiedenen Leuchtmittel \cite{showlicht}}\label{fig:lightEmiiterSpects}
\end{figure}
\noindent
In den 2000er Jahren hielt dann die LED Einzug in die Welt der Veranstaltungstechnik. Damit begann einen Wandel besonders im Bezug auf die Lebensdauer
der Leuchtmittel und der Lichtausbeute im Vergleich zum Stromverbrauch. Mit der fortschreitenden Entwicklung der \ac{led} und der
Scheinwerfer, welche diese nutzen, hat die \ac{led} heute an vielen Stellen die konventionelle Glühlampe oder \ac{hmi} verdrängt.\\
Die Lebensdauer einer \ac{led}-Technik basierenden Lampe liegt im Bereich von 15.000 bis 45.000 Betriebsstunden. Eine Glühlampe hingegen
hat nur eine Lebensdauer von etwa 300 Betriebstunden. Eine Gasentladungslampe hält eine Betriebsbelastung von etwa 300 bis 2000 Stunden aus.
Eine weitere Stärke der LED ist der niedrige Stromverbrauch bei einer vergleichbaren Lichtausbeute gegenüber einer Glühlampe oder \ac{hmi}.
Ein PAR64 Medium Flood CP62 hat eine Lichtausbeute von etwa 320 Lumen mit einer Leistung von 1000W \cite{convpar}. Ein vergleichbarer moderner
\ac{led} \ac{par} mit einer LED Leistung von 180W hat eine Lichtausbeute von etwa 5100 Lumen \cite{ledpar}. So können heute umfangreichere
Lichtinstallationen umgesetzt werden. Da die verfügbare Leistung an Veranstaltungsorten begrenzt ist, konnte nur eine vergleichsweise geringe
Anzahl von konventionellen \ac{par} Scheinwerfern eingesetzt werden, da schon mit 100 \ac{par}s mit 1000W Anschlussleistung bereits
100.000W zur Verfügung stehen müssten, um alle zur gleichen Zeit zu betreiben. Dies war in der Regel nicht der Fall. Dennoch wurden in der
Vergangenheit bei Großveranstaltungen solche Stückzahlen in Bühnen verbaut und dies nicht als einziger Scheinwerfertyp.
Denn hier hat die LED einen weiteren Vorteil zu damals.\\
Früher wurden um eine Bühne in verschiedenen Farben auszuleuchten mehrere \ac{par}s benötigt. Um nur Rot, Grün, Blau und Weiß leuchten zu
können, benötigte man 4 \ac{par}s. Drei davon mit einer jeweiligen Farbfolie vor dem Lichtaustritt. Farbfolien nutzen das Konzept der
subtraktiven Farbmischung. Es werden vor eine in der Regel weiße Lichtquelle hitzebeständige Folien gespannt, welche nur bestimmte Teile des 
Lichtspektrums durchlassen.\\
Dadurch war die Gesamtleistung aller eingesetzten Scheinwerfer früher deutlich größer als dem Licht für die Veranstaltung zugedacht war. Doch
da die Lampen für die verschieden Farben nie alle zur gleichen Zeit an waren, war dies nur ein Problem im Haushalten mit der zur verfügungstehenden
Leistung.\\
Mit \ac{led} Scheinwerfern gibt es dieses Problem heute kaum mehr. Die Scheinwerfer können durch das verbauen von mehrfarbigen \ac{led}s (siehe
\ref{colormixing}) in einem \ac{led} \ac{par} mit additiver Farbmischung ein großes Repertoire an Farben bereitstellen.
Dennoch sind die Traversen auf den Großveranstaltungen voller geworden gegenüber früher.
Die ersten \ac{led} \ac{par}s hatten viele einzelne 5mm rote, grüne und blaue \ac{led}s. Hier war jedoch das Problem, dass bei der Farbmischung
mit beispielsweise Rot und Grün kein homogenes Gelb entstanden ist, da die \ac{led}s alle einzeln ihr eigenes Streuverhalten hatten. So konnte
bei einer auftreffenden Fläche wie dem Boden immer einzelne nur rote oder nur grüne Farbflächen entstehen. Dieses ungewünschte Verhalten wurde
später gelöst, indem mehere \ac{led}s in einen Chip integriert wurden, und vor jeden dieser \ac{led}-Chips eine Streulinse gesetzt wurde.
Somit konnte ein deutlich homogeneres Abstrahlverhalten erreicht werden.
\clearpage

\section{Menschliches Farbsehen}
Das menschliche Auge besitzt zwei Arten von "'Sensoren"', oder auch Rezeptoren. Stäbchen zur Helligkeitswahrnehmung bei Nacht und
Zapfen zur Helligkeits- und Farbwahrnehmung bei Tag. Das Verhältnis von Zapfen zu Stäbchen beträgt im Schnitt 20:1.\\
Somit ist das Sehen bei Tag ca. sieben Mal so hoch aufgelöst wie bei Nacht.\\
Ähnlich wie verschiedene Photodioden, welche einzelne Spektralbereiche abdecken, decken auch die Zapfen nur einen
bestimmten Bereich im Farbspektrum ab. Es gibt drei verschiedene Arten von Zapfen. S-, M-, und L-Zapfen. Also "'Short"',
"'Middle"' und "'Long"' Zapfen. Die Längenangaben beziehen sich auf den Wellenlängenbereich, auf welchen die Zapfen
resistiv sind.\\
\begin{figure}[H]
    \includegraphics[width=\textwidth]{images/eye_spectrum.png}
    \caption{Darstellung des sichtbaren Farbspektrums der Zapfen des Auges}\label{fig:eye_spectrum}
\end{figure}
Die Mengenverteilung der verschiedenen Zapfenarten liegt circa bei S:M:L 1:16:32.
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Farbräume %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Farbräume}
\subsection{Farbspektrum}
Wie bereits in \ref{light and measurement} beschrieben ist das Farbspektrum die Entsprechung des Wahrnehmungsbereiches des menschlichen
Auges im elektromagnetischen Spektrum.
\begin{figure}[H]
    \includegraphics[width=\textwidth]{images/farbspektrum.png}
    \caption{Darstellung des sichtbaren Farbspektrums \cite{fhtEsslignen}}
\end{figure}
\subsection{sRGB}
\subsection{CIE}
\subsubsection{CIE 1931}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Sensorik %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Sensorik}
Es gibt einige Hersteller von entsprechenden Spektralsensoren für Licht und spektral benachbarte Bereiche wie Infrarot.
Ein Hersteller, dessen Sensoren in dieser Arbeit vornehmlich genutzt wurden, ist die Firma AMS.\\
Zu Beginn wurde nach einer einfachen Evaluierungslösung für das Erfassen von spektralen Daten gesucht. Hier wurde das
Sensorboard von der Firma Adafruit AS7262 genutzt.\cite{adafruit}\\
Dieses Board nutzt einen AMS AS7262 Visible Spectral Light Sensor. Weiter stellt es Pin outs für \ac{i2c} und \ac{uart} bereit,
sowie eine Status-\ac{led} und eine Referenz \ac{led} Weißlichtquelle zur Beleuchtung von nicht selbst emittierenden
Gegenständen.
\begin{figure}[H]
    \begin{center}
        \includegraphics[width=.48\textwidth]{images/AS7262_front.png}
    \end{center}
    \caption{Adafruit AS7262 Sensorboard \cite{adafruit}}
\end{figure}
\noindent
Für eine erste Evaluierung und auch für das weitere Vorgehen wurde die UART Schnittstelle genutzt, da diese in der Kommunikation
transparenter aufgebaut ist.\\
Hier ist zu beachten, dass auf dem Adafruit Sensorboard die Lötbrücke für "'\ac{uart} SELECT"' geschlossen werden muss. Ohne diese
Anpassung verbleibt der Chip im \ac{i2c} Modus.\\
Das Sensorboard wurde mit einem "'FTDI Friend"', einem weiteren Produkt von Adafruit, mit dem Endgerät, einem Windows Computer, verbunden.
Dies ist ein USB-Seriell-Transceiver. Dieser Chip von der Firma FTDI wandelt \ac{usb} zu RS232 Analogsignalen. Die Verbindung mit dem \ac{ic}
\ac{uart} via RS232 hergestellt, mit einer Baud Rate von 115200.\\
\\
Die Kommunikation über \ac{uart} mit allen AMS Sensoren funktioniert mit AT-Kommandos, einer \ac{ascii} basierten Kommandosprache,
welche für Modems in den 1980er Jahren entwickelt wurde.

\subsection{AS7261}
Das Sensorspektrum des 7261 ähnelt sehr der Zapfenverteilung im menschlichen Auge. Die in Bild \ref{fig:AS7261_spectrum} gezeigte
Gewichtung der Sensoren ist angelehnt an die CIE 1931 Gewichtungskurven für das menschliche Auge. 
\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/AS7261_functional_blockdiagram.png}
        \caption{Funktionelles Blockdiagramm}
    \end{subfigure}
    \hfill 
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/AS7261_spectrum.png}
        \caption{Spektrale Abdeckung}\label{fig:AS7261_spectrum}
    \end{subfigure}
    \caption{AMS AS7261 \cite{datasheet61}}\label{fig:AS7261}
\end{figure}
\noindent
Neben den CIE X, Y und Z Sensoren, verfügt der Sensor noch über einen \ac{nir}, einen Dark und einen Clear Sensor. Diese finden hier
allerdings keine Verwendung.\\
Die AT Schnittstelle stellt verschiedenste Informationen zur Verfügung. Zunächst kann mit dem Befehl "'ATDATA"' die Sensorwerte als
16-Bit Integer (Ganzzahl) Werte von 0 bis 65535 ausgegeben.\\
\\
Weiter gibt es nicht (spektral) Sensor bezogene Eintellungen die über die \ac{uart} Schnittstelle abgefragt und gesetzt werden können.
Als ein Beispiel kann die Temperatur in Celsius des \ac{ic}s mit "'ATTEMP"' abgefragt werden.\\
Mit "'ATLED0=100"' kann eine kleine grüne Status \ac{led} angeschaltet werden, um zu signalisieren, dass das Programm eine Verbindung mit 
dem Chip herstellen konnte und die Kommunikation funktioniert.\\
Zusätzlich kann mit den Befehlen "'ATLED1=0"' und "'ATLED1=100"' eine auf dem Evaluationsboard angebrachte weiße Referenz \ac{led} aus und
an geschaltet werden, um nicht selbst emmitierende Objekte zu vermessen.\\
Die Schnittstelle stellt noch einige weitere Informationen zur Verfügung, wie die Chip Software-Version, einen Sensor Gain, Sensor Bank Modus
und Integrationszeit.
\clearpage

\subsection{AS7262}
Auch das Sensorspektrum des 7262 ähnelt sehr der Zapfenverteilung im menschlichen Auge. Dieser \ac{ic} hat insgesamt 6 einzelne Photodioden.
Davon sind 4 im rot bis gelbgrünen Teil des Spektrums angesiedelt. Eine weitere Photodiode im grünen Spektralbereich und die letzte im blauen
Bereich. So sind auch in Bild \ref{fig:eye_spectrum} zwei der drei Zapfen Arten im rot bis grünen Bereich. Die dritte Zapfenart ist im blauen
Bereich.
\begin{figure}[H]
    \centering
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/AS7262_functional_blockdiagram.png}
        \caption{Funktionelles Blockdiagramm}
    \end{subfigure}
    \hfill 
    \begin{subfigure}[b]{0.49\textwidth}
        \includegraphics[width=\textwidth]{images/AS7262_spectrum.png}
        \caption{Spektrale Abdeckung}
    \end{subfigure}
    \caption{AMS AS7262 \cite{datasheet62}}\label{fig:AS7262}
\end{figure}
\noindent
Hier werden aus der \ac{uart} (AT) Schnittstelle mit dem Befehl "'ATCDATA"' die Sensorwerte der einzelnen Dioden als 32-Bit floating point
(Gleitkomma Zahlen) ausgegeben. Die weiteren nicht Sensor bezogenen Befehle sind identisch mit dem Befehlssatz des AS7261 Sensors.
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Verwendete Gerätschaften %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Verwendete Gerätschaften}
\subsection{Lampen}
Im folgenden werden die Lichtquellen beziehungsweise die Lampen beschrieben, die für die Messungen verwendet wurden.
Auch in der Veranstaltungstechnik als (engl.) "'Fixtures"' bezeichnet. Diese Lampen haben alle \ac{led}s als Lichtquelle. Diese \ac{led}s
sind alle unterschiedlich aufgebaut.
\subsubsection{Ape Labs Light Can}
~\par\vspace{-\baselineskip}
\begin{wrapfigure}{r}{0.4\textwidth}
    \vspace{-45pt}
    \begin{center}
        \includegraphics[width=.23\textwidth]{images/light_can_front.png}
    \end{center}
    \vspace{-20pt}
    \caption{Light Can}
    \vspace{-15pt}
\end{wrapfigure}
\noindent
Diese Lampe ist eine sehr kompakt gebaute RGBW \ac{led} Lichtquelle auf Akku Basis. Diese wurde von der Firma Ape Labs aus Eisigen in Deutschland
entwickelt. Diese Lampe ist sowohl per Fernbedienung, als auch per W-\ac{dmx} steuerbar.
Die "'Kanne"' hat einen Abstrahlwinkel von 65 Grad. Zur gezielten Steuerung, ohne vorprogrammierte Effekte wird ein \ac{dmx} zu W-DMX Wandler der
Firma benötigt (W-APP). Dieser ermöglicht dann die Ansteurung der Lampe durch die Applikation.
\subsubsection{Robe LEDWash 300}
Dieses Wash Movinglight ist ein handelsübliches Gerät und wird weltweit bei vielen Veranstaltungen universell eingesetzt. Hier sind 19 einzelne
RGBW \ac{led}s hinter einzelnen Linsen in zwei Kreisen und einer Mittelpunkt \ac{led} positioniert.
\begin{figure}[H]
    \begin{center}
        \includegraphics[width=.3\textwidth]{images/Robe_300_ledwash.png}
    \end{center}
    \caption{Robe LEDWash 300 \cite{robe}}
\end{figure}
\noindent
Das Movinglight hat einen einstellbaren Abstrahlwinkel von 8 bis 63 Grad. Dieser wurde allerdings bei den Messungen auf 63 Grad fest eingestellt,
um ein möglichst homogenes Abstrahlverhalten zu erhalten. Laut Hersteller hat die Lampe bei einer Distanz von fünf Metern zur Lampe eine
Lichtausbeute von 3.370 Lumen. Die Lampe ist per \ac{xlr} mit DMX, oder via Ethernet RJ45-Buchse per Art-Net steuerbar. An einem Display
am Fuß (der "'Base"') kann der Scheinwerfer konfiguriert werden.
\subsubsection{ARRI SkyPanel}
Das Skypanel S60-C von der Firma Arri, ein Tochterunternehmen der Firma Osram, wird oft als Fluter, das Grundlicht in Film und Fernsehen, eingesetzt.
Es wird beworben, dass es mit xyY Kanälen per DMX angesteuert werden kann und diese CIE Werte von der Lampe exakt wiedergegeben werden. Somit
ist diese Lampe eine perfekte Referenz für diese Arbeit.
\begin{figure}[H]
    \begin{center}
        \includegraphics[width=.48\textwidth]{images/skypanel_s60_c.png}
    \end{center}
    \caption{ARRI Skypanel S60-C \cite{arri}}
\end{figure}
\noindent
Das SkyPanel hat einen Abstrahlwinkel von 115 Grad. Die RGBW \ac{led}s befinden sich hinter einem lampengroßem Diffusor. Die Lampe ist per
\ac{xlr} mit DMX, W-DMX oder via Ethernet RJ45-Buchse per Art-Net steuerbar. An einem Display auf der Rückseite kann der Scheinwerfer konfiguriert
werden. Außerdem kann manuell am Gerät auch eine xyY CIE Farbe ohne externe Ansteuerung eingestellt werden.\\
Bei einer Ansteuerung per DMX oder Art-Net kann am Gerät auch abgelesen werden, welche xyY Werte das Gerät aus der Ansteuerung ermittelt,
und versucht zu emittieren.
\subsection{Messgerät MK350 LED}
Als Referenz Messgerät zu dem vergleichsweisen niedrigpreisigen Sensoren wurde das bei MA Lighting bereits vorhandene Spektralmessgerät
"'MK350 LED"' der Firma UPRtek genutzt.\\
%% Geräte Bilder
Dieses Messgerät kann Spektraldaten im Bereich von {\color{red} xx} bis {\color{red} xx} nanometern messen. Hier wird ein Messwert pro
einem Nanometer erfasst. Daraus Berechnet das Messgerät weiter CIE1931 x  Koordinaten, sowie CIE 1973 uv Koordinaten.
Messwerte können einzeln oder auch in Serie erfasst werden und im CSV Format für die weitere Auswertung auf eine SD Karte gesichert werden.
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Messungen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Messungen und Testapplikation}
Zu Beginn wurde der Sensor AS7262 in Betrieb genommen, da dieser auf einem Evaluierungsboard verfügbar war.
Zunächst wurde mit der Applikation "'Putty"' über die COM Schnittstelle einige Kommandos gesendet um die
\ac{uart} Schnittstelle zu testen. Dies ist erfolgreich gelungen. Es wurden erste spektrale Werte des
Umgebungslichtes und einer Light Can empfangen.\\
Anschließend wurde begonnen eine erste NodeJS Applikation zu programmieren, um intervallweise spektrale Daten
von der \ac{uart} Schnittstelle abzufragen und anzuzeigen. So konnten erste Messwerte mit dem AS7262 Sensor erhoben werden.
Diese Messwerte wurden mit dem MK350 verglichen. Hier wurde beobachtet, dass die gemessenen Daten des MK350 auf den jeweiligen
Wellenlängen mit den Werten übereinstimmt. Hier ist anzumerken, dass wie in Bild {\color{red} xx} zu sehen, die pro Wellenlänge
gemessene Amplitude nach 1 normiert wird. Zur Vergleichbarkeit werden auch in der Applikation die Sensor Werte des AS7262 nach
1 normiert. Die Messwerte der sechs Wellenlängen des AS7262 sind mit geringer Abweichung identisch zum MK350.\\
%% Spektrum MK350; Spektrum AS7262
Doch war hier ein großes Defizit des AS7262 zu beobachten. wie in Bild {\color{red} xx} zu erkennen liegt für das Maximum
des grünen Emitters bei ca. 480 nanometern. Doch liegen die beiden nächsten Messflanken des AS7262 bei 450 und 500 nanometern.
Somit wird der Wellenlängenbereich mit der höchsten Energiedichte nicht erfasst. Dies erzeugt eine große Fehlerquelle für weitere
Berechnungen.\\
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Ansteuerung externer Lichtquellen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Ansteuerung externer Lichtquellen}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Messungen 2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Messungen 2}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Automatisierung %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Automatisierung}
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%% Anhang %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\thesubsection}{\Alph{subsection}}
\section*{Anhang}
\addcontentsline{toc}{section}{Anhang}

\subsection{Abbildungsverzeichnis}
\begingroup
\renewcommand{\section}[2]{}
\listoffigures
\endgroup
\clearpage

\subsection{Abkürzungsverzeichnis}
\begin{acronym}
    \acro{ascii}[ASCII]{American Standard Code for Information Interchange}
    \acro{cie}[CIE]{Commission internationale de l’éclairage}
    \acro{css}[CSS]{Cascading Style Sheets}
    \acro{dmx}[DMX]{Digital Multiplex}
    \acro{hmi}[HMI]{Hydrargyrum mediumarc iodite}
    \acro{html}[HTML]{Hypertext Markup Language}
    \acro{i2c}[I2C]{Inter-Integrated Circuit}
    \acro{ic}[IC]{Integrated Circuit}
    \acro{json}[JSON]{JavaScript Object Notation}
    \acro{led}[LED]{Light Emitting Diode}
    \acro{MBps}[MBps]{Megabits pro Sekunde}
    \acro{nir}[NIR]{Near Infrared}
    \acro{par}[PAR]{Parabolic Aluminized Refelector}
    \acro{rdm}[RDM]{Remote Device Management}
    \acro{thz}[THz]{Teraherz}
    \acro{uart}[UART]{Universal Asynchronous Receiver Transmitter}
    \acro{usb}[USB]{Universal Serial Bus}
    \acro{xlr}[XLR]{drei oder fünf polige Steckverbindung}
    \acro{xml}[XML]{Extensible Markup Language}
\end{acronym}
\clearpage

\subsection{Formelzeichen und Konstanten}
$\lambda$ - Lambda - Wellenlänge\\
\\
c - Lichtgeschwindigkeit - 299 792 458 meter pro sekunde
\clearpage

\subsection{Literaturverzeichnis}
\begingroup
\renewcommand{\section}[2]{}
\begin{thebibliography}{xxxxxxxxxxxxxxxxxxx}
    \bibitem[Art-Net Homepage, 2019]{artnet}"'Home - Art-Net"', \url{https://art-net.org.uk/}, 07.08.2019
    \bibitem[Art-Net Documatation, 2019]{artdmx}"'ArtDmx – Packet Definition - Art-Net"', \url{https://art-net.org.uk/structure/streaming-packets/artdmx-packet-definition/}, 10.08.2019
    \bibitem[Electron Homepage, 2019]{electron}"'Electron | Plattformübergreifende Desktop-Anwendungen mit JavaScript, HTML und CSS entwickeln."', \url{https://electronjs.org/}, 08.08.2019
    \bibitem[Licht Wikipedia, 2019]{wikiLicht}"'Licht - Wikipedia"', \url{https://de.wikipedia.org/wiki/Licht}, 11.08.2019
    \bibitem[Wikipedia, 2019]{spectrumLight}"'Electromagnetic spectrum - Wikipedia"', \url{https://en.wikipedia.org/wiki/Electromagnetic_spectrum}, 11.08.2019
    \bibitem[Farbwahrnehmung FHT Esslingen, 2019]{fhtEsslignen}"'Farbwahrnehmung"', \url{http://www.it.fht-esslingen.de/~asbeck/gdial/farbe/sehen2.html}, 11.08.2019
    \bibitem[Leuchtdiode Wikipedia, 2019]{wikiLed}"'Leuchtdiode - Wikipedia"', \url{https://de.wikipedia.org/wiki/Leuchtdiode}, 21.08.2019
    \bibitem[Showlicht von Scribble zum fertigen Desgin, 2014]{showlicht}"'Showlicht von Scribble zum fertigen Desgin"', 01.09.2019
    \bibitem[Philips PAR64 Leuchtmittel 1000W | Thomann, 2019]{convpar}"'Philips PAR64 Leuchtmittel 1000W | Thomann"', \url{https://www.thomann.de/de/philips_par64_1000_watt_mfl_cp62_exe.htm}, 02.09.2019
    \bibitem[P FLAT PRO 18 IP65 | Cameo, 2019]{ledpar}"'P FLAT PRO 18 IP65 | Cameo"', \url{https://www.cameolight.com/de/loesungen/installation/outdoor-lichttechnik/outdoor-scheinwerfer/2297/p-flat-pro-18-ip65?c=1826}, 02.09.2019
    \bibitem[Adafruit Learn, 2019]{adafruit}"'Overview | Adafruit AS7262 6-channel Visible Light Sensor | Adafruit Learning System"', \url{https://learn.adafruit.com/adafruit-as7262-6-channel-visible-light-sensor}, 11.08.2019
    \bibitem[AS7261 Datenblatt, 2019]{datasheet61}"'AS7261 XYZ Chromatic White Color Sensor + NIR with Electronic Shutter and Smart Interface"', \url{https://ams.com/documents/20143/36005/AS7261_DS000493_1-00.pdf/0e7d1f12-702e-d061-b07a-67b0b6316800}, 11.08.2019
    \bibitem[AS7262 Datenblatt, 2019]{datasheet62}"'AS7262 6-Channel Visible Spectral ID Device with Electronic Shutter and Smart Interface"', \url{https://ams.com/documents/20143/36005/AS7262_DS000486_2-00.pdf/0031f605-5629-e030-73b2-f365fd36a43b}, 11.08.2019
    \bibitem[Ape Labs Homepage,2019]{lightCan} \url{https://apelabs.com/products/leuchtdose}, 02.09.2019
    \bibitem[Robe Homepage,2019]{robe} \url{https://www.robe.cz/ledwash-300plus/}, 02.09.2019
    \bibitem[Arri Homepage,2019]{arri} \url{https://www.arri.com/en/lighting/led/skypanel/s60-c}, 02.09.2019
 \end{thebibliography}
 \endgroup
\clearpage

%\section{\LaTeX Beispiele}
%\begin{align}
%E &= mc^2\\
%m &= \frac{m_0}{\sqrt{1-\frac{v^2}{c^2}}}
%\end{align}
%\\
%Sonderzeichen
%\url{https://de.wikibooks.org/wiki/LaTeX-Kompendium:_Sonderzeichen}\\
%micro - $\mu$\\
%\\
%Lines
%\url{https://www.namsu.de/latex/kapitel6.html}\\
%\\
%Embed figures
%\url{https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions}\\
%\\
%Sub and Top Text
%\textsuperscript{top} and \textsubscript{sub}\\
%\\
%Fußnoten
%\footnote{Text der Fußnote}
%\clearpage

\end{document}